import { FileSystem } from "@fern-api/mrlint-virtual-file-system";
import { Logger } from "./logger/Logger";
import { Result } from "./Result";
import { LintablePackage, Monorepo, Package, PackageType } from "./types";
export declare type Rule = Rule.MonorepoRule | Rule.PackageRule;
export declare enum RuleType {
    MONOREPO = "MONOREPO",
    PACKAGE = "PACKAGE"
}
export declare namespace Rule {
    interface MonorepoRule extends BaseRule {
        type: RuleType.MONOREPO;
        run: Runner<MonorepoRuleRunnerArgs>;
    }
    interface MonorepoRuleRunnerArgs {
        monorepo: Monorepo;
        fileSystems: FileSystems;
        logger: Logger;
    }
    interface PackageRule extends BaseRule {
        type: RuleType.PACKAGE;
        targetedPackages: PackageType[];
        run: Runner<PackageRuleRunnerArgs>;
    }
    interface PackageRuleRunnerArgs {
        packageToLint: LintablePackage;
        allPackages: readonly Package[];
        relativePathToRoot: string;
        relativePathToSharedConfigs: string;
        fileSystems: FileSystems;
        logger: Logger;
        addDevDependency: (dependency: string) => void;
        ruleConfig: unknown | undefined;
    }
    interface Issue {
        severity: "warning" | "error";
        summary: string;
    }
    interface BaseRule {
        ruleId: string;
        docs?: string;
    }
    type Runner<Args> = (args: Args) => Result | Promise<Result>;
    interface FileSystems {
        getFileSystemForMonorepo: () => FileSystem;
        getFileSystemForPackage: (package: Package) => FileSystem;
    }
}

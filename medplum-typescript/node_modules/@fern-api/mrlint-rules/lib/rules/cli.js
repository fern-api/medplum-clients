"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.CliRule = void 0;
const mrlint_commons_1 = require("@fern-api/mrlint-commons");
const writePackageFile_1 = require("../utils/writePackageFile");
exports.CliRule = {
    ruleId: "cli",
    type: mrlint_commons_1.RuleType.PACKAGE,
    targetedPackages: [mrlint_commons_1.PackageType.TYPESCRIPT_CLI],
    run: runRule,
};
async function runRule({ fileSystems, packageToLint, logger }) {
    if (packageToLint.config.type !== mrlint_commons_1.PackageType.TYPESCRIPT_CLI) {
        logger.error("This package is not a CLI. This is a bug in mrlint.");
        return mrlint_commons_1.Result.failure();
    }
    return (0, writePackageFile_1.writePackageFile)({
        fileSystem: fileSystems.getFileSystemForPackage(packageToLint),
        filename: "cli",
        contents: `#!/usr/bin/env node

require("${packageToLint.config.pathToCli}");`,
        logger,
    });
}
//# sourceMappingURL=cli.js.map